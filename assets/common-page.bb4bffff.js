var W=Object.defineProperty;var J=(l,e,t)=>e in l?W(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var I=(l,e,t)=>(J(l,typeof e!="symbol"?e+"":e,t),t);import{a as V,b as Q,c as ee,d as te,f as ne,g as oe,h as se,j as le,k as re,l as K,m as X,n as Y,o as ae,p as ie,q as ce,r as _e,s as ue}from"./element-plus.9a36dedd.js";import{u as R,b as de}from"./vue-router.33f3ff11.js";import{o as r,c as g,a as u,r as $,d as k,ag as D,a8 as M,F as E,S as d,T as a,Z as i,V as H,W as S,u as n,Y as x,X as L,l as z,f as G,a6 as me,U as N,_ as T,O as P,M as pe,$ as O,ay as fe,w as he}from"./@vue.e6dedf64.js";import{_ as C,C as ve,r as j,u as ge,a as xe,b as ye}from"./index.03bfe113.js";import{p as be,x as we,y as ke}from"./@vueuse.954f3924.js";import{u as B}from"./vue-i18n.19acff5b.js";import{I as Z}from"./@iconify.c5a53019.js";import{n as Ee,R as $e}from"./@element-plus.9d61af5c.js";import{t as h}from"./useTab.dfc42128.js";import"./lodash-es.a286bec7.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.acca6e14.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.3c54f423.js";import"./vue-echarts.0ffefe7d.js";import"./resize-detector.4e96b72b.js";import"./echarts.b4fc8f11.js";import"./zrender.c9f35395.js";import"./tslib.f5899810.js";import"./pinia.63682d83.js";import"./vue-demi.b3a9cad9.js";import"./xe-utils.e9a24773.js";/* empty css                     */import"./vxe-table.1d09a5db.js";import"./@wangeditor.cc1e33ee.js";import"./particles.vue3.b02149b3.js";import"./js-cookie.31874410.js";import"./nprogress.4992843a.js";import"./@intlify.c1495d3a.js";const Se="/assets/logo.a4c2148e.webp",Ce={},Me=u("div",{class:"w-10"},[u("img",{src:Se,alt:"logo"})],-1),Be=[Me];function Ae(l,e){return r(),g("div",{class:"flex flex-row justify-center items-center py-5 w-[220px] cursor-pointer",onClick:e[0]||(e[0]=t=>l.$router.push("/"))},Be)}const Ie=C(Ce,[["render",Ae]]);class He{constructor(){I(this,"menus",$([]));I(this,"route",$(null));I(this,"close",be(ve.MENU_CLOSE_STATE,!1));this.menus.value=this.getMenuByRoute()}getNestedMenuByRoute(e,t,o=""){var s;(s=e.children)==null||s.forEach(c=>{o!==""?o=`${o}-${c.title}`:o=`${e.title}-${c.title}`,t.set(c.route,o),c.children?this.getNestedMenuByRoute(c,t,o):o=""})}getCurrentMenu(e){const t=new Map;return this.menus.value.forEach(o=>{this.getNestedMenuByRoute(o,t)}),t.get(e.name)}linkPage(e){this.isExternalLink(e)?window.open(e.path):j.push({name:e.route})}isExternalLink(e){return!!e.path}toggleState(){this.close.value=!this.close.value}filterNestedMenu(e){return e.filter(t=>{var o;return(o=t.meta)==null?void 0:o.menu}).map(t=>{var o,s;if(t.children){const c=this.filterNestedMenu(t.children);return{...(o=t.meta)==null?void 0:o.menu,route:t.name,children:c}}return{...(s=t.meta)==null?void 0:s.menu,route:t.name}})}getMenuByRoute(){return j.getRoutes().filter(e=>e.children.length&&e.meta.menu&&!e.meta.menu.nested).map(e=>{var o;const t={...(o=e.meta)==null?void 0:o.menu};return t.children=this.filterNestedMenu(e.children),t}).filter(e=>{var t;return(t=e.children)==null?void 0:t.length}).sort((e,t)=>(e.sort||0)-(t.sort||0))}}const b=new He,Re=k({__name:"MenuItem",props:{subMenu:{default:()=>[]},activeKey:{default:""}},setup(l){const e=l,{t}=B(),o=(c,v)=>e.activeKey===""?c.title+"-"+v.title:e.activeKey+"-"+v.title;function s(c){const{sm:v,cmd:_}=ge();(v.value||_.value)&&b.toggleState(),b.linkPage(c)}return(c,v)=>{const _=V,y=Q,p=D("menu-item",!0),f=ee;return r(!0),g(E,null,M(e.subMenu,(m,q)=>(r(),g(E,{key:q},[m.hideParent?(r(!0),g(E,{key:0},M(m.children,(w,A)=>(r(),d(y,{key:"sub_ "+A,"active-key":m.title+"-"+w.title,index:o(m,w),onClick:U=>s(w)},{default:a(()=>[i(_,null,{default:a(()=>[m.icon?(r(),d(H(m.icon),{key:0})):S("",!0),m.customIcon?(r(),d(n(Z),{key:1,icon:m.customIcon},null,8,["icon"])):S("",!0)]),_:2},1024),u("span",null,x(n(t)(m.title)),1)]),_:2},1032,["active-key","index","onClick"]))),128)):(r(),d(f,{key:1,index:m.title},{title:a(()=>[i(_,null,{default:a(()=>[m.icon?(r(),d(H(m.icon),{key:0})):S("",!0),m.customIcon?(r(),d(n(Z),{key:1,icon:m.customIcon},null,8,["icon"])):S("",!0)]),_:2},1024),u("span",null,x(n(t)(m.title)),1)]),default:a(()=>[(r(!0),g(E,null,M(m.children,(w,A)=>(r(),g(E,null,[w.children?(r(),d(p,{key:"sub_ "+A,"active-key":m.title+"-"+w.title,"sub-menu":m.children},null,8,["active-key","sub-menu"])):(r(),d(y,{key:A,index:o(m,w),onClick:U=>s(w)},{default:a(()=>[L(x(n(t)(w==null?void 0:w.title)),1)]),_:2},1032,["index","onClick"]))],64))),256))]),_:2},1032,["index"]))],64))),128)}}}),Le={class:"flex justify-center"},Ne=k({__name:"index",setup(l){const e=R(),t=$("");z(()=>{t.value=b.getCurrentMenu(e)});const o=G(()=>b.close.value);return(s,c)=>{const v=ne;return r(),d(v,{class:P(["admin-menu bg-dark",{close:n(b).close.value}])},{default:a(()=>[u("div",Le,[i(Ie)]),i(n(te),{collapse:n(o),"default-active":n(t)},{default:a(()=>[i(Re,{"sub-menu":n(b).menus.value},null,8,["sub-menu"])]),_:1},8,["collapse","default-active"]),(r(),d(me,{to:"body"},[N(u("div",{class:"bg block md:hidden",onClick:c[0]||(c[0]=(..._)=>n(b).toggleState&&n(b).toggleState(..._))},null,512),[[T,!n(b).close.value]])]))]),_:1},8,["class"])}}});const Te=C(Ne,[["__scopeId","data-v-e4eced3f"]]),Ve={class:"breadcrumb"},De=k({__name:"index",setup(l){const e=R(),{t}=B(),o=$(""),s=$([]);return z(()=>{var c;o.value=b.getCurrentMenu(e),s.value=[...new Set((c=o.value)==null?void 0:c.split("-"))]}),(c,v)=>{const _=oe,y=se;return r(),g("div",Ve,[i(y,{"separator-icon":n(Ee)},{default:a(()=>[(r(!0),g(E,null,M(n(s),(p,f)=>(r(),d(_,{key:f},{default:a(()=>[L(x(n(t)(p)),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"])])}}});const ze=C(De,[["__scopeId","data-v-2694f310"]]),Fe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Oe=u("path",{fill:"currentColor",d:"M11 13h10v-2H11m0-2h10V7H11M3 3v2h18V3M3 21h18v-2H3m0-7l4 4V8m4 9h10v-2H11v2Z"},null,-1),je=[Oe];function Ze(l,e){return r(),g("svg",Fe,je)}const Ke={name:"mdi-format-indent-decrease",render:Ze},Xe=k({__name:"index",setup(l){return(e,t)=>{const o=Ke;return r(),g("div",{class:"pr-3 cursor-pointer",onClick:t[0]||(t[0]=(...s)=>n(b).toggleState&&n(b).toggleState(...s))},[i(o,{class:P([{"rotate-180":n(b).close.value},"duration-300"]),style:{"font-size":"1.5em"}},null,8,["class"])])}}});var F=(l=>(l.ELEMENT_MESSAGE_BOX_SIZE="300px",l.ELEMENT_MESSAGE_BOX_CLASS="message-box-custom-class",l))(F||{});function Ye(l,e,t){le.confirm(l,void 0,{customStyle:{width:F.ELEMENT_MESSAGE_BOX_SIZE}}).then(()=>{e()}).catch(o=>{t&&t(o)})}function Ge(l,e){re({message:e,type:l,duration:2e3,customClass:F.ELEMENT_MESSAGE_BOX_CLASS})}const Pe={class:"flex flex-col items-start"},qe={class:"font-sans dark:text-white text-gray-600 text-sm font-medium"},Ue={class:"font-sans dark:text-white text-gray-500 text-sm"},We=k({__name:"index",setup(l){const e=de(),t=xe(),{t:o}=B(),s=we(ke(),"YYYY-MM-DD HH:mm");function c(){Ye(o("golbal.logout.message.confirm"),()=>{ye(()=>{e.replace("/login"),Ge("success",o("golbal.logout.message.success"))})})}return(v,_)=>{const y=V,p=K,f=X,m=Y;return r(),g(E,null,[u("div",Pe,[u("span",qe,x(n(o)("hello")+n(t).name),1),u("span",Ue,x(n(s)),1)]),i(m,null,{dropdown:a(()=>[i(f,null,{default:a(()=>[i(p,{onClick:c},{default:a(()=>[L(x(n(o)("logout")),1)]),_:1})]),_:1})]),default:a(()=>[i(y,{size:20,class:"ml-2 mt-[1px] hover:rotate-90 duration-500 cursor-pointer"},{default:a(()=>[i(n($e))]),_:1})]),_:1})],64)}}}),Je={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Qe=u("path",{fill:"currentColor",d:"M14 14h5v2h-3v3h-2v-5m-9 0h5v5H8v-3H5v-2m3-9h2v5H5V8h3V5m11 3v2h-5V5h2v3h3Z"},null,-1),et=[Qe];function tt(l,e){return r(),g("svg",Je,et)}const nt={name:"mdi-fullscreen-exit",render:tt},ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},st=u("path",{fill:"currentColor",d:"M5 5h5v2H7v3H5V5m9 0h5v5h-2V7h-3V5m3 9h2v5h-5v-2h3v-3m-7 3v2H5v-5h2v3h3Z"},null,-1),lt=[st];function rt(l,e){return r(),g("svg",ot,lt)}const at={name:"mdi-fullscreen",render:rt};function it(){const l=$(!1),e=()=>{l.value?document.exitFullscreen():document.documentElement.requestFullscreen(),l.value=!l.value};return document.addEventListener("fullscreenchange",()=>{l.value=document.fullscreenElement!==null}),{isFullScreen:l,fullScreen:e}}const ct=k({__name:"index",setup(l){const{isFullScreen:e,fullScreen:t}=it();return(o,s)=>{const c=at,v=nt;return r(),g(E,null,[N(i(c,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:s[0]||(s[0]=()=>n(t)())},null,512),[[T,!n(e)]]),N(i(v,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:s[1]||(s[1]=()=>n(t)())},null,512),[[T,n(e)]])],64)}}});const _t=C(ct,[["__scopeId","data-v-ebaa87f8"]]),ut={class:"flex align-center items-center"},dt={class:"flex align-center items-center"},mt={class:"flex items-center gap-2 justify-end h-full flex-1"},pt=k({__name:"index",setup(l){return(e,t)=>{const o=ae;return r(),d(o,{class:"border-b border-base border-solid flex justify-between",style:{"text-align":"right","font-size":"12px"}},{default:a(()=>[u("div",ut,[i(Xe)]),u("div",dt,[i(ze)]),u("div",mt,[i(_t),i(We)])]),_:1})}}}),ft=k({__name:"option",setup(l){const e=G(()=>h.history.value.length===1),{t}=B();return(o,s)=>{const c=D("arrow-down"),v=V,_=K,y=X,p=Y;return r(),d(p,null,{dropdown:a(()=>[i(y,null,{default:a(()=>[i(_,{icon:"RefreshRight"},{default:a(()=>[u("span",{onClick:s[0]||(s[0]=(...f)=>n(h).reload&&n(h).reload(...f))},x(n(t)("global.history.dropdown.option.reload")),1)]),_:1}),i(_,{icon:"Close",disabled:n(e)},{default:a(()=>[u("span",{onClick:s[1]||(s[1]=(...f)=>n(h).closeSelf&&n(h).closeSelf(...f))},x(n(t)("global.history.dropdown.option.closeSelf")),1)]),_:1},8,["disabled"]),i(_,{icon:"ArrowLeft",divided:"",disabled:n(h).isTop().value},{default:a(()=>[u("span",{onClick:s[2]||(s[2]=(...f)=>n(h).closeLeft&&n(h).closeLeft(...f))},x(n(t)("global.history.dropdown.option.closeLeft")),1)]),_:1},8,["disabled"]),i(_,{icon:"ArrowRight",disabled:n(h).isBottom().value},{default:a(()=>[u("span",{onClick:s[3]||(s[3]=(...f)=>n(h).closeRight&&n(h).closeRight(...f))},x(n(t)("global.history.dropdown.option.closeRight")),1)]),_:1},8,["disabled"]),i(_,{icon:"CircleClose",divided:"",disabled:n(e)},{default:a(()=>[u("span",{onClick:s[4]||(s[4]=(...f)=>n(h).closeOther&&n(h).closeOther(...f))},x(n(t)("global.history.dropdown.option.closeOther")),1)]),_:1},8,["disabled"]),i(_,{icon:"DCaret"},{default:a(()=>[u("span",{onClick:s[5]||(s[5]=(...f)=>n(h).closeAll&&n(h).closeAll(...f))},x(n(t)("global.history.dropdown.option.closeAll")),1)]),_:1})]),_:1})]),default:a(()=>[i(v,null,{default:a(()=>[i(c)]),_:1})]),_:1})}}}),ht={class:"history self-start flex w-full p-1 border-b border-base border-solid"},vt={class:"self-center justify-self-end float-right pr-3"},gt=k({__name:"index",setup(l){const e=$(0),t=R(),{t:o}=B(),s=$();return z(()=>{s.value=t.name}),(c,v)=>{const _=ie,y=ce;return r(),g("div",ht,[i(y,{wrap:"",size:n(e),class:"flex-1"},{default:a(()=>[(r(!0),g(E,null,M(n(h).history.value,p=>(r(),d(_,{key:p.title,size:"large",type:n(s)===p.route?"":"info",class:"m-1 cursor-pointer",closable:n(s)!==p.route,onClose:f=>n(h).removeHistoryTab(p),onClick:f=>c.$router.push({name:p.route})},{default:a(()=>[L(x(n(o)(p.title)),1)]),_:2},1032,["type","closable","onClose","onClick"]))),128))]),_:1},8,["size"]),u("div",vt,[i(ft)])])}}});const xt=C(gt,[["__scopeId","data-v-5d972455"]]),yt={},bt={class:"h-full w-full"};function wt(l,e){return r(),g("div",bt,[pe(l.$slots,"default")])}const kt=C(yt,[["render",wt]]),Et=["src"],$t=k({__name:"index",setup(l){return(e,t)=>{const o=kt,s=D("router-view"),c=_e;return r(),d(c,null,{default:a(()=>[n(h).isRouterAlive.value?(r(),d(s,{key:0},{default:a(({Component:v,route:_})=>{var y;return[(y=_.meta.menu)!=null&&y.iframe_link?(r(),d(O,{key:0,appear:"",name:"el-fade-in-linear"},{default:a(()=>[i(o,null,{default:a(()=>{var p;return[u("iframe",{class:"w-full h-full",src:(p=_.meta.menu)==null?void 0:p.iframe_link,frameborder:"0"},null,8,Et)]}),_:2},1024)]),_:2},1024)):(r(),d(O,{key:1,appear:"",name:"el-fade-in-linear"},{default:a(()=>[i(o,null,{default:a(()=>{var p;return[(r(),d(fe,null,[(p=_.meta)!=null&&p.keepAlive?(r(),d(H(v),{key:_.path})):S("",!0)],1024)),_.meta.keepAlive?S("",!0):(r(),d(H(v),{key:_.path}))]}),_:2},1024)]),_:2},1024))]}),_:1})):S("",!0)]),_:1})}}}),rn=k({__name:"common-page",setup(l){const e=R();return he(e,()=>{h.addHistoryTab(e)},{immediate:!0}),(t,o)=>{const s=ue;return r(),d(s,{class:"h-screen w-full font-sans overflow-hidden hideBar"},{default:a(()=>[i(Te),i(s,{direction:"vertical"},{default:a(()=>[i(pt),i(xt),i($t)]),_:1})]),_:1})}}});export{rn as default};
