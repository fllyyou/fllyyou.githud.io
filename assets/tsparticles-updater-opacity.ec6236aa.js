import{l as p,Y as v,F as n,Q as b,G as m,c as x}from"./tsparticles-engine.62396409.js";function l(a,o,t,y){switch(a.options.opacity.animation.destroy){case"max":o>=y&&a.destroy();break;case"min":o<=t&&a.destroy();break}}function g(a,o){var t,y,s,i,c,u;if(!a.opacity)return;const e=a.opacity.min,d=a.opacity.max,f=(t=a.opacity.decay)!==null&&t!==void 0?t:1;if(!(a.destroyed||!a.opacity.enable||((y=a.opacity.maxLoops)!==null&&y!==void 0?y:0)>0&&((s=a.opacity.loops)!==null&&s!==void 0?s:0)>((i=a.opacity.maxLoops)!==null&&i!==void 0?i:0))){switch(a.opacity.status){case 0:a.opacity.value>=d?(a.opacity.status=1,a.opacity.loops||(a.opacity.loops=0),a.opacity.loops++):a.opacity.value+=((c=a.opacity.velocity)!==null&&c!==void 0?c:0)*o.factor;break;case 1:a.opacity.value<=e?(a.opacity.status=0,a.opacity.loops||(a.opacity.loops=0),a.opacity.loops++):a.opacity.value-=((u=a.opacity.velocity)!==null&&u!==void 0?u:0)*o.factor;break}a.opacity.velocity&&a.opacity.decay!==1&&(a.opacity.velocity*=f),l(a,a.opacity.value,e,d),a.destroyed||(a.opacity.value=x(a.opacity.value,e,d))}}class _{constructor(o){this.container=o}init(o){const t=o.options.opacity;o.opacity={enable:t.animation.enable,max:p(t.value),min:v(t.value),value:n(t.value),loops:0,maxLoops:n(t.animation.count)};const y=t.animation;if(y.enable){o.opacity.decay=1-n(y.decay),o.opacity.status=0;const s=t.value;switch(o.opacity.min=v(s),o.opacity.max=p(s),y.startValue){case"min":o.opacity.value=o.opacity.min,o.opacity.status=0;break;case"random":o.opacity.value=b(o.opacity),o.opacity.status=m()>=.5?0:1;break;case"max":default:o.opacity.value=o.opacity.max,o.opacity.status=1;break}o.opacity.velocity=n(y.speed)/100*this.container.retina.reduceFactor,y.sync||(o.opacity.velocity*=m())}}isEnabled(o){var t,y,s,i;return!o.destroyed&&!o.spawning&&!!o.opacity&&o.opacity.enable&&(((t=o.opacity.maxLoops)!==null&&t!==void 0?t:0)<=0||((y=o.opacity.maxLoops)!==null&&y!==void 0?y:0)>0&&((s=o.opacity.loops)!==null&&s!==void 0?s:0)<((i=o.opacity.maxLoops)!==null&&i!==void 0?i:0))}reset(o){o.opacity&&(o.opacity.loops=0)}update(o,t){!this.isEnabled(o)||g(o,t)}}async function h(a){await a.addParticleUpdater("opacity",o=>new _(o))}export{h as l};
