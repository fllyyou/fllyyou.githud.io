import{C as _,R,O as C,P as S,x as W,k as x,u as q,g as L,w as O,B as P,D,F as E,y as F,G as M}from"./tsparticles-engine.62396409.js";class I extends _{constructor(i,n,e,t){super(i,n,e),this.canvasSize=t,this.canvasSize=Object.assign({},t)}contains(i){if(super.contains(i))return!0;const n={x:i.x-this.canvasSize.width,y:i.y};if(super.contains(n))return!0;const e={x:i.x-this.canvasSize.width,y:i.y-this.canvasSize.height};if(super.contains(e))return!0;const t={x:i.x,y:i.y-this.canvasSize.height};return super.contains(t)}intersects(i){if(super.intersects(i))return!0;const n=i,e=i,t={x:i.position.x-this.canvasSize.width,y:i.position.y-this.canvasSize.height};if(e.radius!==void 0){const s=new _(t.x,t.y,e.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new R(t.x,t.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class z{constructor(){this.blur=5,this.color=new C,this.color.value="#000",this.enable=!1}load(i){!i||(i.blur!==void 0&&(this.blur=i.blur),this.color=C.create(this.color,i.color),i.enable!==void 0&&(this.enable=i.enable))}}class B{constructor(){this.enable=!1,this.frequency=1}load(i){!i||(i.color!==void 0&&(this.color=C.create(this.color,i.color)),i.enable!==void 0&&(this.enable=i.enable),i.frequency!==void 0&&(this.frequency=i.frequency),i.opacity!==void 0&&(this.opacity=i.opacity))}}class N{constructor(){this.blink=!1,this.color=new C,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new z,this.triangles=new B,this.width=1,this.warp=!1}load(i){!i||(i.id!==void 0&&(this.id=i.id),i.blink!==void 0&&(this.blink=i.blink),this.color=C.create(this.color,i.color),i.consent!==void 0&&(this.consent=i.consent),i.distance!==void 0&&(this.distance=i.distance),i.enable!==void 0&&(this.enable=i.enable),i.frequency!==void 0&&(this.frequency=i.frequency),i.opacity!==void 0&&(this.opacity=i.opacity),this.shadow.load(i.shadow),this.triangles.load(i.triangles),i.width!==void 0&&(this.width=i.width),i.warp!==void 0&&(this.warp=i.warp))}}function j(o,i,n,e,t){let s=x(o,i);if(!t||s<=n)return s;const d={x:i.x-e.width,y:i.y};if(s=x(o,d),s<=n)return s;const c={x:i.x-e.width,y:i.y-e.height};if(s=x(o,c),s<=n)return s;const f={x:i.x,y:i.y-e.height};return s=x(o,f),s}class G extends S{constructor(i){super(i),this.linkContainer=i}clear(){}init(){this.linkContainer.particles.linksColors=new Map}async interact(i){var n;if(!i.options.links)return;i.links=[];const e=i.getPosition(),t=this.container,s=t.canvas.size;if(e.x<0||e.y<0||e.x>s.width||e.y>s.height)return;const d=i.options.links,c=d.opacity,f=(n=i.retina.linksDistance)!==null&&n!==void 0?n:0,k=d.warp,y=k?new I(e.x,e.y,f,s):new _(e.x,e.y,f),h=t.particles.quadTree.query(y);for(const l of h){const r=l.options.links;if(i===l||!(r!=null&&r.enable)||d.id!==r.id||l.spawning||l.destroyed||!l.links||i.links.map(u=>u.destination).indexOf(l)!==-1||l.links.map(u=>u.destination).indexOf(i)!==-1)continue;const a=l.getPosition();if(a.x<0||a.y<0||a.x>s.width||a.y>s.height)continue;const g=j(e,a,f,s,k&&r.warp);if(g>f)return;const w=(1-g/f)*c;this.setColor(i),i.links.push({destination:l,opacity:w})}}isEnabled(i){var n;return!!(!((n=i.options.links)===null||n===void 0)&&n.enable)}loadParticlesOptions(i,...n){var e,t;i.links||(i.links=new N);for(const s of n)i.links.load((t=(e=s==null?void 0:s.links)!==null&&e!==void 0?e:s==null?void 0:s.lineLinked)!==null&&t!==void 0?t:s==null?void 0:s.line_linked)}reset(){}setColor(i){if(!i.options.links)return;const n=this.linkContainer,e=i.options.links;let t=e.id===void 0?n.particles.linksColor:n.particles.linksColors.get(e.id);if(t)return;const s=e.color;t=W(s,e.blink,e.consent),e.id===void 0?n.particles.linksColor=t:n.particles.linksColors.set(e.id,t)}}async function K(o){await o.addInteractor("particlesLinks",i=>new G(i))}function V(o,i,n,e,t,s,d,c,f,k,y,h){let l=!1;if(x(n,e)<=t)q(o,n,e),l=!0;else if(d){let r,a;const g={x:e.x-s.width,y:e.y},w=L(n,g);if(w.distance<=t){const u=n.y-w.dy/w.dx*n.x;r={x:0,y:u},a={x:s.width,y:u}}else{const u={x:e.x,y:e.y-s.height},p=L(n,u);if(p.distance<=t){const v=-(n.y-p.dy/p.dx*n.x)/(p.dy/p.dx);r={x:v,y:0},a={x:v,y:s.height}}else{const b={x:e.x-s.width,y:e.y-s.height},v=L(n,b);if(v.distance<=t){const T=n.y-v.dy/v.dx*n.x;r={x:-T/(v.dy/v.dx),y:T},a={x:r.x+s.width,y:r.y+s.height}}}}r&&a&&(q(o,n,r),q(o,e,a),l=!0)}if(!!l){if(o.lineWidth=i,c&&(o.globalCompositeOperation=f),o.strokeStyle=O(k,y),h.enable){const r=P(h.color);r&&(o.shadowBlur=h.blur,o.shadowColor=O(r))}o.stroke()}}function A(o,i,n,e,t,s,d,c){D(o,i,n,e),t&&(o.globalCompositeOperation=s),o.fillStyle=O(d,c),o.fill()}function H(o){return o.sort((i,n)=>i-n),o.join("_")}function m(o,i){const n=H(o.map(t=>t.id));let e=i.get(n);return e===void 0&&(e=M(),i.set(n,e)),e}class J{constructor(i){this.container=i,this._freqs={links:new Map,triangles:new Map}}drawParticle(i,n){var e;const t=this.container,s=n.options;if(!n.links||n.links.length<=0)return;const d=n.links.filter(c=>s.links&&this.getLinkFrequency(n,c.destination)<=s.links.frequency);for(const c of d)this.drawTriangles(t,s,n,c,d),c.opacity>0&&((e=n.retina.linksWidth)!==null&&e!==void 0?e:0)>0&&this.drawLinkLine(n,c)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(i){if(i.links=[],!i.options.links)return;const n=this.container.retina.pixelRatio;i.retina.linksDistance=i.options.links.distance*n,i.retina.linksWidth=i.options.links.width*n}particleDestroyed(i){i.links=[]}drawLinkLine(i,n){const e=this.container,t=e.actualOptions,s=n.destination,d=i.getPosition(),c=s.getPosition();let f=n.opacity;e.canvas.draw(k=>{var y,h,l;if(!i.options.links)return;let r;const a=(y=i.options.twinkle)===null||y===void 0?void 0:y.lines;if(a!=null&&a.enable){const u=a.frequency,p=P(a.color);M()<u&&p&&(r=p,f=E(a.opacity))}if(!r){const u=i.options.links,p=(u==null?void 0:u.id)!==void 0?e.particles.linksColors.get(u.id):e.particles.linksColor;r=F(i,s,p)}if(!r)return;const g=(h=i.retina.linksWidth)!==null&&h!==void 0?h:0,w=(l=i.retina.linksDistance)!==null&&l!==void 0?l:0;V(k,g,d,c,w,e.canvas.size,i.options.links.warp,t.backgroundMask.enable,t.backgroundMask.composite,r,f,i.options.links.shadow)})}drawLinkTriangle(i,n,e){var t;if(!i.options.links)return;const s=this.container,d=s.actualOptions,c=n.destination,f=e.destination,k=i.options.links.triangles,y=(t=k.opacity)!==null&&t!==void 0?t:(n.opacity+e.opacity)/2;y<=0||s.canvas.draw(h=>{var l;const r=i.getPosition(),a=c.getPosition(),g=f.getPosition(),w=(l=i.retina.linksDistance)!==null&&l!==void 0?l:0;if(x(r,a)>w||x(g,a)>w||x(g,r)>w)return;let u=P(k.color);if(!u){const p=i.options.links,b=(p==null?void 0:p.id)!==void 0?s.particles.linksColors.get(p.id):s.particles.linksColor;u=F(i,c,b)}!u||A(h,r,a,g,d.backgroundMask.enable,d.backgroundMask.composite,u,y)})}drawTriangles(i,n,e,t,s){var d,c,f;const k=t.destination;if(!(((d=n.links)===null||d===void 0?void 0:d.triangles.enable)&&((c=k.options.links)===null||c===void 0?void 0:c.triangles.enable)))return;const y=(f=k.links)===null||f===void 0?void 0:f.filter(h=>{const l=this.getLinkFrequency(k,h.destination);return k.options.links&&l<=k.options.links.frequency&&s.findIndex(r=>r.destination===h.destination)>=0});if(!!(y!=null&&y.length))for(const h of y){const l=h.destination;this.getTriangleFrequency(e,k,l)>n.links.triangles.frequency||this.drawLinkTriangle(e,t,h)}}getLinkFrequency(i,n){return m([i,n],this._freqs.links)}getTriangleFrequency(i,n,e){return m([i,n,e],this._freqs.triangles)}}class Q{constructor(){this.id="links"}getPlugin(i){return new J(i)}loadOptions(){}needsPlugin(){return!0}}async function U(o){const i=new Q;await o.addPlugin(i)}async function Z(o){await K(o),await U(o)}export{Z as l};
